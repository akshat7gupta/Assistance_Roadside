{"ast":null,"code":"var _jsxFileName = \"T:\\\\Assistance roadside\\\\client\\\\src\\\\components\\\\modals\\\\edit-user-modal.jsx\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./edit-user-modal.scss\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport userService from \"../../services/user-service\";\nimport { AuthContext } from \"../../ContextWrapper\";\n\nconst EditUserModal = ({\n  updateProfile,\n  user,\n  updateUser\n}) => {\n  const {\n    auth\n  } = useContext(AuthContext);\n  const [name, setName] = useState((user === null || user === void 0 ? void 0 : user.name) || \"\");\n  const [email, setEmail] = useState((user === null || user === void 0 ? void 0 : user.email) || \"\");\n  const [password, setPassword] = useState((user === null || user === void 0 ? void 0 : user.password) || \"\");\n  const [phone, setPhone] = useState((user === null || user === void 0 ? void 0 : user.phone) || \"\");\n  const [show, setShow] = useState(false);\n\n  const handleShow = () => setShow(true);\n\n  const handleClose = () => setShow(false);\n\n  const handleDelete = () => {\n    setShow(false);\n    userService.delete(auth);\n  };\n\n  const handleSave = async () => {\n    setShow(false);\n    const updatedUser = {\n      name,\n      email,\n      password,\n      phone\n    };\n\n    if (!user) {\n      const userProfile = await userService.edit(auth, updatedUser);\n      updateProfile({\n        name: userProfile.name,\n        email: userProfile.email,\n        phone: userProfile.phone\n      });\n    } else {\n      const userProfile = await userService.edit(user[\"_id\"], updatedUser);\n      updateUser(user[\"_id\"], userProfile);\n    }\n  };\n\n  useEffect(() => {\n    if (!user) {\n      userService.getUser(auth).then(data => {\n        setName(data.name);\n        setEmail(data.email);\n        setPassword(data.password);\n        setPhone(data.phone);\n      });\n    }\n  }, [user, auth]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button button-primary request-btn\",\n    onClick: handleShow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    className: \"edit-user-modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, \"Edit\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-form edit-user-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    value: name,\n    onChange: e => setName(e.target.value),\n    placeholder: \"Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"Email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    name: \"phone\",\n    value: phone,\n    onChange: e => setPhone(e.target.value),\n    placeholder: \"Phone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }))))), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button button-danger\",\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, \"Delete\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button button-primary\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, \"Close\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button button-success\",\n    onClick: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, \"Save\"))));\n};\n\nexport default EditUserModal;","map":{"version":3,"sources":["T:/Assistance roadside/client/src/components/modals/edit-user-modal.jsx"],"names":["React","useContext","useState","useEffect","Modal","userService","AuthContext","EditUserModal","updateProfile","user","updateUser","auth","name","setName","email","setEmail","password","setPassword","phone","setPhone","show","setShow","handleShow","handleClose","handleDelete","delete","handleSave","updatedUser","userProfile","edit","getUser","then","data","e","target","value"],"mappings":"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","sourcesContent":["import \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./edit-user-modal.scss\";\n\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport userService from \"../../services/user-service\";\nimport { AuthContext } from \"../../ContextWrapper\";\n\nconst EditUserModal = ({ updateProfile, user, updateUser }) => {\n  const { auth } = useContext(AuthContext);\n  const [name, setName] = useState(user?.name || \"\");\n  const [email, setEmail] = useState(user?.email || \"\");\n  const [password, setPassword] = useState(user?.password || \"\");\n  const [phone, setPhone] = useState(user?.phone || \"\");\n\n  const [show, setShow] = useState(false);\n  const handleShow = () => setShow(true);\n  const handleClose = () => setShow(false);\n  const handleDelete = () => {\n    setShow(false);\n    userService.delete(auth);\n  };\n  const handleSave = async () => {\n    setShow(false);\n    const updatedUser = {\n      name,\n      email,\n      password,\n      phone,\n    };\n\n    if (!user) {\n      const userProfile = await userService.edit(auth, updatedUser);\n\n      updateProfile({\n        name: userProfile.name,\n        email: userProfile.email,\n        phone: userProfile.phone,\n      });\n    } else {\n      const userProfile = await userService.edit(user[\"_id\"], updatedUser);\n\n      updateUser(user[\"_id\"], userProfile);\n    }\n  };\n\n  useEffect(() => {\n    if (!user) {\n      userService.getUser(auth).then((data) => {\n        setName(data.name);\n        setEmail(data.email);\n        setPassword(data.password);\n        setPhone(data.phone);\n      });\n    }\n  }, [user, auth]);\n\n  return (\n    <>\n      <button\n        className=\"button button-primary request-btn\"\n        onClick={handleShow}\n      >\n        Edit\n      </button>\n      <Modal show={show} onHide={handleClose} className=\"edit-user-modal\">\n        <Modal.Header closeButton>\n          <Modal.Title>Edit</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"user-form edit-user-form\">\n            <form>\n              <label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                  placeholder=\"Name\"\n                />\n              </label>\n              <label>\n                <input\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  type=\"email\"\n                  name=\"email\"\n                  placeholder=\"Email\"\n                />\n              </label>\n              <label>\n                <input\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  type=\"password\"\n                  name=\"password\"\n                  placeholder=\"Password\"\n                />\n              </label>\n              <label>\n                <input\n                  type=\"number\"\n                  name=\"phone\"\n                  value={phone}\n                  onChange={(e) => setPhone(e.target.value)}\n                  placeholder=\"Phone\"\n                />\n              </label>\n            </form>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <button className=\"button button-danger\" onClick={handleDelete}>\n            Delete\n          </button>\n          <button className=\"button button-primary\" onClick={handleClose}>\n            Close\n          </button>\n          <button className=\"button button-success\" onClick={handleSave}>\n            Save\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n};\n\nexport default EditUserModal;\n"]},"metadata":{},"sourceType":"module"}