{"ast":null,"code":"var _jsxFileName = \"T:\\\\Assistance roadside\\\\client\\\\src\\\\components\\\\forms\\\\login\\\\login-form.jsx\";\nimport \"./login-form.scss\";\nimport React, { useContext, useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport FormHeader from \"../form-header/form-header\";\nimport AdditionalLinks from \"../additional-links\";\nimport userService from \"../../../services/user-service\";\nimport { AuthContext } from \"../../../ContextWrapper\";\nconst additionalLinks = [{\n  link: \"/register\",\n  text: \"NEW HERE?\"\n}];\n\nconst LoginForm = ({\n  history\n}) => {\n  const {\n    setAuth\n  } = useContext(AuthContext);\n  const [state, setState] = useState({\n    email: \"\",\n    password: \"\"\n  });\n\n  function handleFormSubmit(e) {\n    e.preventDefault();\n    const email = state.email;\n    const password = state.password;\n    const user = {\n      email,\n      password\n    };\n    userService.login(user).then(res => {\n      setAuth(res._id);\n      localStorage.setItem(\"auth\", res._id);\n      history.push(\"/home\");\n    });\n  }\n\n  function handleChange(evt) {\n    const value = evt.target.value;\n    setState({ ...state,\n      [evt.target.name]: value\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FormHeader, {\n    title: \"Login\",\n    subtitle: \"Send a request for road assistance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"email\",\n    value: state.email,\n    onChange: handleChange,\n    placeholder: \"EMAIL\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: state.password,\n    onChange: handleChange,\n    placeholder: \"PASSWORD\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"LOGIN\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AdditionalLinks, {\n    links: additionalLinks,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default withRouter(LoginForm);","map":{"version":3,"sources":["T:/Assistance roadside/client/src/components/forms/login/login-form.jsx"],"names":["React","useContext","useState","withRouter","FormHeader","AdditionalLinks","userService","AuthContext","additionalLinks","link","text","LoginForm","history","setAuth","state","setState","email","password","handleFormSubmit","e","preventDefault","user","login","then","res","_id","localStorage","setItem","push","handleChange","evt","value","target","name"],"mappings":";AAAA,OAAO,mBAAP;AAEA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAOC,eAAP,MAA4B,qBAA5B;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AACA,SAASC,WAAT,QAA4B,yBAA5B;AAEA,MAAMC,eAAe,GAAG,CACtB;AACEC,EAAAA,IAAI,EAAE,WADR;AAEEC,EAAAA,IAAI,EAAE;AAFR,CADsB,CAAxB;;AAOA,MAAMC,SAAS,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAiB;AACjC,QAAM;AAAEC,IAAAA;AAAF,MAAcZ,UAAU,CAACM,WAAD,CAA9B;AACA,QAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC;AACjCc,IAAAA,KAAK,EAAE,EAD0B;AAEjCC,IAAAA,QAAQ,EAAE;AAFuB,GAAD,CAAlC;;AAKA,WAASC,gBAAT,CAA0BC,CAA1B,EAA6B;AAC3BA,IAAAA,CAAC,CAACC,cAAF;AAEA,UAAMJ,KAAK,GAAGF,KAAK,CAACE,KAApB;AACA,UAAMC,QAAQ,GAAGH,KAAK,CAACG,QAAvB;AACA,UAAMI,IAAI,GAAG;AAAEL,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAb;AAEAX,IAAAA,WAAW,CAACgB,KAAZ,CAAkBD,IAAlB,EAAwBE,IAAxB,CAA8BC,GAAD,IAAS;AACpCX,MAAAA,OAAO,CAACW,GAAG,CAACC,GAAL,CAAP;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BH,GAAG,CAACC,GAAjC;AACAb,MAAAA,OAAO,CAACgB,IAAR,CAAa,OAAb;AACD,KAJD;AAKD;;AAED,WAASC,YAAT,CAAsBC,GAAtB,EAA2B;AACzB,UAAMC,KAAK,GAAGD,GAAG,CAACE,MAAJ,CAAWD,KAAzB;AAEAhB,IAAAA,QAAQ,CAAC,EACP,GAAGD,KADI;AAEP,OAACgB,GAAG,CAACE,MAAJ,CAAWC,IAAZ,GAAmBF;AAFZ,KAAD,CAAR;AAID;;AAED,sBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAC,OAAlB;AAA0B,IAAA,QAAQ,EAAC,oCAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAGE;AAAM,IAAA,QAAQ,EAAEb,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,KAAK,EAAEJ,KAAK,CAACE,KAHf;AAIE,IAAA,QAAQ,EAAEa,YAJZ;AAKE,IAAA,WAAW,EAAC,OALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,KAAK,EAAEf,KAAK,CAACG,QAHf;AAIE,IAAA,QAAQ,EAAEY,YAJZ;AAKE,IAAA,WAAW,EAAC,UALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAVF,eAmBE;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnBF,eAoBE,oBAAC,eAAD;AAAiB,IAAA,KAAK,EAAErB,eAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApBF,CAHF,CADF;AA4BD,CA1DD;;AA4DA,eAAeL,UAAU,CAACQ,SAAD,CAAzB","sourcesContent":["import \"./login-form.scss\";\n\nimport React, { useContext, useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport FormHeader from \"../form-header/form-header\";\nimport AdditionalLinks from \"../additional-links\";\nimport userService from \"../../../services/user-service\";\nimport { AuthContext } from \"../../../ContextWrapper\";\n\nconst additionalLinks = [\n  {\n    link: \"/register\",\n    text: \"NEW HERE?\",\n  },\n];\n\nconst LoginForm = ({ history }) => {\n  const { setAuth } = useContext(AuthContext);\n  const [state, setState] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  function handleFormSubmit(e) {\n    e.preventDefault();\n\n    const email = state.email;\n    const password = state.password;\n    const user = { email, password };\n\n    userService.login(user).then((res) => {\n      setAuth(res._id);\n      localStorage.setItem(\"auth\", res._id);\n      history.push(\"/home\");\n    });\n  }\n\n  function handleChange(evt) {\n    const value = evt.target.value;\n\n    setState({\n      ...state,\n      [evt.target.name]: value,\n    });\n  }\n\n  return (\n    <div className=\"login-form\">\n      <FormHeader title=\"Login\" subtitle=\"Send a request for road assistance\" />\n\n      <form onSubmit={handleFormSubmit}>\n        <label>\n          <input\n            type=\"text\"\n            name=\"email\"\n            value={state.email}\n            onChange={handleChange}\n            placeholder=\"EMAIL\"\n          />\n        </label>\n        <label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={state.password}\n            onChange={handleChange}\n            placeholder=\"PASSWORD\"\n          />\n        </label>\n        <input type=\"submit\" value=\"LOGIN\" />\n        <AdditionalLinks links={additionalLinks} />\n      </form>\n    </div>\n  );\n};\n\nexport default withRouter(LoginForm);\n"]},"metadata":{},"sourceType":"module"}